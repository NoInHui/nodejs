<div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Object.keys, values, entries</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 개별 자료 구조에서 한발 뒤로 물러나 순회(iteration)에 대해 이야기 나누어봅시다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이전 챕터에서 우리는 순회에 필요한 메서드 map.keys(), map.values(), map.entries() 에 대해 알아보았습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이 메서드들은 포괄적인 용도로 만들어졌기 때문에 메서드를 적용할 자료구조는 일련의 합의를 준수해야 합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 커스텀 자료구조를 대상으로 순회를 해야 한다면 이 메서드들을 쓰지 못하고 직접 메서드를 구현해야 합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// keys(), values(), entries() 를 사용할 수 있는 자료구조는 다음과 같습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Map, Set, Array</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 일반 객체에도 순회 관련 메서드가 있긴 한데, keys(), values(), entries() 와는 문법에 차이가 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Object.keys, values, entries</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 일반 객체엔 다음과 같은 메서드를 사용할 수 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Object.keys(obj) - 객체의 키만 담은 배열을 반환합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Object.values(obj) - 객체의 값만 담은 배열을 반환합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Object.entries(obj) - [키,값] 쌍을 담은 배열을 반환합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Map, Set, Array 전용 메서드와 일반 객체용 메서드의 차이를 비교하면 다음과 같습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Map - 호출문법: map.keys() , 반환 값 : iterable 객체</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 객체 - 호출문법: Object.keys(obj) , 반환 값 : '진짜'배열</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 첫 번째 차이는 obj.keys() 가 아닌 Object.keys(obj) 를 호출한다는 점입니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이렇게 문법이 다른 이유는 유연성 때문입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이사디시피 자바스크립트에선 복잡한 자료구조 전체가 객체에 기반합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그러다 보니 객체 data 에 자체적으로 data.values() 라는 메서드를 구현해 사용하는 경우가 있을 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이렇게 커스텀 메서드를 구현한 상태라도 Object.values(data) 같은 형태로 메서드를 호출할 수 있으면 커스텀 메서드와 내장 메서드 둘 다를 사용할 수 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 두 번째 차이는 메서드 Object.* .를 호출하면 iterable 객체가 아닌 객체의 한 종류인 배열을 반환한다는 점입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// '진짜' 배열을 반환하는 이유는 하위 호환성 떄문입니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="font-size: 10pt;"> = {</span></div><div><span style="font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'inhui'</span><span style="font-size: 10pt;">,</span></div><div><span style="font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">age</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="font-size: 10pt;"> </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">32</span><span style="font-size: 10pt;">,</span></div><div><span style="font-size: 10pt;">};</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">keys</span><span style="font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="font-size: 10pt;">))</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">values</span><span style="font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="font-size: 10pt;">));</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">entries</span><span style="font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="font-size: 10pt;">));</span></div><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Object.keys, values, entries 는 심볼형 프로퍼티를 무시합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// for..in 반복문 처럼 Object.keys, Object.values, Object.entries 는 키가 심볼형인 프로퍼티는 무시합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 대개는 심볼형 키를 연산 대상에 포함하지 않는게 좋지만, 심볼형 키가 필요한 경우엔 심볼형 키만 배열형태로 반환해주는 메서드인 Object.getOwnPropertySymbols 를 사용하면 됩니다.</span></div><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 객체 변환하기</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 객체엔 map, filter 같은 배열 전용 메서드를 사용할 수 없습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 하지만 Object.entries 와 Object.fromEntries 를 순차적으로 적용하면 객체에도 배열 전용 메서드를 사용할 수 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 1. Object.entries(obj) 를 사용해 객체의 키-값 쌍이 요소인 배열을 얻습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 2. 1에서 만든 배열에 map 등의 배열 전용 메서드를 적용합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 3. 2에서 반환된 배열에 Object.formEntries(array) 를 적용해 배열을 다시 객체로 되돌립니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="font-size: 10pt;"> = {</span></div><div><span style="font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">banana</span><span style="color: rgb(156, 220, 254); font-size: 10pt;"> :</span><span style="font-size: 10pt;"> </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1e2</span><span style="font-size: 10pt;">,</span></div><div><span style="font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">orange</span><span style="color: rgb(156, 220, 254); font-size: 10pt;"> :</span><span style="font-size: 10pt;"> </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">5e2</span><span style="font-size: 10pt;">,</span></div><div><span style="font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">meat</span><span style="color: rgb(156, 220, 254); font-size: 10pt;"> :</span><span style="font-size: 10pt;"> </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1e3</span><span style="font-size: 10pt;">,</span></div><div><span style="font-size: 10pt;">};</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="font-size: 10pt;">);</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj3</span><span style="font-size: 10pt;"> = </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">fromEntries</span><span style="font-size: 10pt;">(</span></div><div><span style="font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">entries</span><span style="font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="font-size: 10pt;">).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">map</span><span style="font-size: 10pt;">(([</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">value</span><span style="font-size: 10pt;">], </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">i</span><span style="font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="font-size: 10pt;"> [</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">value</span><span style="font-size: 10pt;">*</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="font-size: 10pt;">])</span></div><div><span style="font-size: 10pt;">);</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj3</span><span style="font-size: 10pt;">);</span></div></div>