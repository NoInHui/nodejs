<div style="color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div style="line-height: 19px;"><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 참조에 의한 객체 복사</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 객체와 원시 타입의 근본적인 차이 중 하나는 객체는 '참조에 의해' 저장되고 복사된다는 것입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 원시값(문자열, 숫자, 불린)은 값 그대로 저장,할당되고 복사되는 반면에 말이죠.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">str1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'Hello'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">str2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">str1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">str1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'Hello2'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 두 개의 독립된 변수에 각각 문자열 Hello 가 저장됩니다.</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'str1'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">str1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'str2'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">str2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">); </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// str2 가 Hello2 로 변경되지 않는것을 확인</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 객체의 동작 방식은 이와 다릅니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 변수엔 객체 그대로 저장되는 것이 아니라, 객체가 저장되어있는 '메모리 주소'인 객체에 대한 '참조 값'이 저장됩니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'inhui'</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 객체는 메모리 내 어딘가에 저장되고, 변수 obj1 엔 객체를 참조할 수 있는 값이 저장됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 따라서 객체가 할당된 변수를 복사할 땐 객체의 참조 값이 복사되고 객체는 복사되지 않습니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'peter'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'kim'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj1'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">); </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 결과 : {name: 'peter', name2: 'kim'}</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 참조에 의한 비교</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 객체 비교 시 동등 연사자 == 와 일치 연산자 === 는 동일하게 동작합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 비교 시 피연산자인 두 객체가 동일한 객체인 경우 참을 반환하죠.</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj1 == obj2'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> == </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj1 === obj2'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> === </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 객체 복사, 변합과 Object.assign</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 객체가 할당된 변수를 복사하면 동일한 객체에 대한 참조 값이 하나 더 만들어집니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 객체를 복제하고 싶다면 어떻게 해야 할까요? 기존에 있던 객체와 똑같으면서 독립적인 객체를 만들고 싶다면 말이죠.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 복제가 필요한 상황이라면 새로운 객체를 만든 다음 기존 객체의 프로퍼티들을 순회해 원시 수준까지 프로퍼티를 복사하면 됩니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {};</span></div><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">for</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">in</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">[</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">] = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">[</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">];</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'noh'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'kaka'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj1'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj3'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Object.assign 을 사용하는 방법도 있습니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name4</span><span style="color: rgb(156, 220, 254); font-size: 10pt;"> :</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'susu'</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">assign</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj4'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 중첩 객체 복사</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 지금까진 객체의 모든 프로퍼티가 원시값인 경우만 가정했습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 프로퍼티가 객체에 대한 참조 값일 수도 있습니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj5</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'inhui'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">size</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">height</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">180</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">width</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">70</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// clone.size = user.size 로 프로퍼티를 복사하는 것만으론 객체를 복사할 수 없습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// user.size 는 객체이기 때문에 참조 값이 복사되기 때문입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// clone.size = user.size 로 프로퍼티를 복사하면 clone 과 user 는 같은 size 를 공유하게 됩니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj6</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">assign</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">({}, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj5</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj6.size === obj5.size'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj6</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">size</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> === </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj5</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">size</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">); </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// true</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이 문제를 해결하려면 key 값을 검사하면서, 그 값이 객체인 경우 객체의 구조도 복사해주는 반복문을 사용해야 합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이런 방식을 '깊은 복사(deep cloning)' 라고 합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj7</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'inhui'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">size</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">height</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">180</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">width</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">70</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">cur</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">width</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">80</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">clone</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">cloneObj</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {};</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">for</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">in</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">typeof</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">[</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">] === </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'object'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">cloneObj</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">[</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">] = </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">clone</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">[</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">]);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">else</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">cloneObj</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">[</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">] = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">[</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">];</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">cloneObj</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj8</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">clone</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj7</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj8'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj8</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj8.size.cur === obj7.size.cur'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj8</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">size</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">cur</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> === </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj7</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">size</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">cur</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 자바스크립트 라이브러리 lodash 의 메서드인 _.cloneDeep(obj) 을 사용하면 이 알고리즘을 직접 구현하지 않고도 깊은 복사를 처리할 수 있다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj9</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">_</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">cloneDeep</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj7</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj9'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj9</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj9.size.cur === obj7.size.cur'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj9</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">size</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">cur</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> === </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj7</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">size</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">cur</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 나머지 매개변수와 스프레드 문법</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 나머지 매개변수 ...</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 함수 정의 방법과 상관없이 함수에 넘겨주는 인수의 개수엔 제약이 없습니다.</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">a</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">b</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">a</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">+</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">b</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">func1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 아래 예시에선 모든 인수가 배열 args 에 모입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ... 는 남아있는 매개변수들을 한데 모아 배열에 집어넣어라 는 것을 의미합니다.</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(...</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">args</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">sum</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">args</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reduce</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">acc</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">cur</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">i</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">acc</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> += </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">cur</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">acc</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; },</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">0</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">sum</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">func2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 앞부분의 매개변수는 변수로, 남아있는 매개변수들은 배열로 모을 수 있습니다.</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">a</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">b</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,...</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">args</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">sum</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">a</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">+</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">b</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">sum</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">args</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reduce</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">acc</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">cur</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">i</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">acc</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> += </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">cur</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">acc</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; },</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">sum</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">sum</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">func3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 나머지 매개변수는 항상 마지막에 있어야 합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 나머지 매개변수는 남아있는 인수를 모으는 역할을 하므로 아래 예시에선 에러가 발생합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// function func(...args, a,b) { }</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// arguments 객체</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 유사 배열 객체(array-like object)인 arguments 를 사용하면 인덱스를 사용해 인수에 접근할 수 있습니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">func4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">arguments</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">arguments</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">length</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">arguments</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">[</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">]);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">func4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 나머지 매개변수는 비교적 최신에 나온 문법입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 나머지 매개변수가 나오기 이전엔 함수의 인수 전체를 얻어내는 방법이 arguments 를 사용하는 것밖에 없었습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 물론 지금도 arguments 를 사용할 수 있습니다. 오래된 코드를 보다 보면 arguments 를 만나게 되죠.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 화살표 함수는 arguments 객체를 지원하지 않습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 화살표 함수에서 arguments 객체에 접근하면, 외부에 있는 '일반'함수의 arguments 객체를 가져옵니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func5</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = () </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">arguments</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">func5</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 스프레드 문법</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 매개변수와는 반대로 배열을 인수 목록으로 반환합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 내장함수 Math.max 는 인수로 받은 숫자 중 가장 큰 숫자를 반환합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">func6</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">array</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">Math</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">max</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">array</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)); </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// NaN</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">Math</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">max</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(...</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">array</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)); </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 최대값 뽑아냄</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">func6</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">([</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">]);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Math.max(a,b,c,d) 처럼 배열 요소를 수동으로 나열하는 방법도 있긴 한데, 배열 길이를 알 수 없을 때는 이마저도 불가능합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 스크립트가 돌아갈 때 실제 넘어오는 배열의 길이는 아주 길 수도 있고, 아예 빈 배열일 수도 있기 때문입니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 스프레드 문법(spread syntax, 전개문법)은 이럴 때 사용하기 위해 만들어졌습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ... 를 사용하기 때문에 나머지 매개변수와 비슷해 보이지만, 스프레드 문법은 나머지 매개변수와 반대되는 역할을 합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 함수를 호출할 때 ...arr 를 사용하면, 이터러블 객체 arr 이 인수 목록으로 확장 됩니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 아래와 같이 이터러블 객체 여러 개를 전달하는 것도 가능합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">arr1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = [</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">];</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">arr2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = [</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">5</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">6</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">7</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">8</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">];</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">Math</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">max</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(...</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">arr1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">10</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, ...</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">arr2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 배열이 아니더라도 이터러블 객체이면 스프레드 문법을 사용할 수 있습니다.</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">str1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'Hello'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">([...</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">str1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">]);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 스프레드 문법은 for..of 와 같은 방식으로 내부에서 이터레이터(iterator, 반복자)를 사용해 요소를 수집합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 메서드 Array.from 은 이터러블 객체인 문자열을 배열로 바꿔주기 때문에 Array.from 을 사용해도 동일한 작업을 할 수 있습니다.</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">str2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'Hello'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Array</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">from</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">str2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 Array.from(obj) 와 [...obj] 는 다음과 같은 미묘한 차이가 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 1. Array.from 은 유사 배열 객체와 이터러블 객체 둘 다 사용할 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 2. 스프레드 문법은 이터러블 객체에만 사용할 수 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이런 이유때문에 무언가를 배열로 바꿀 때는 스프레드 문법보다 Array.from 이 보편적으로 사용됩니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 가비지 컬렉션</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 자바스크립트는 눈에 보이지 않는 곳에서 메모리 관리를 수행합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 가비지 컬렉션 기준</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 자바스크립트는 도달 가능성(reachability) 이라는 개념을 사용해 메모리를 관리합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 도달 가능한 값은 쉽게 말해 어떻게든 접근하거나 사용할 수 있는 값을 의미합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 아래 소개하는 값들은 태생부터 도달 가능하기 때문에, 명백한 이유 없이는 삭제되지 않습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 1. 현재 함수의 지역변수와 매개변수</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 2. 중첩함수의 체인에 있는 함수에서 사용되는 변수와 매개변수</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 3. 전역변수</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 4. 기타 등등</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이런 값은 루트(root) 라고 부릅니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 루트가 참조하는 값이나 체이닝으로 루트에서 참조할 수 있는 값은 도달 가능한 값이 됩니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 전역 변수에 객체가 저장되어있다고 가정해 봅시다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이 객체의 프로퍼티가 또 다른 객체를 참조하고 있다면, 프로퍼티가 참조하는 객체는 도달 가능한 값이 됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이 객체가 참조하는 다른 모든 것들도 도달 가능하다고 여겨집니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 자바스크립트 엔진 내에선 가비지 컬렉터(gargabe collector) 가 끊임없이 동작합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 가비지 컬렉터는 모든 객체를 모니터링하고, 도달할 수 없는 객체는 삭제합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'inhui'</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 객체 obj1 은 {name:'inhui'} 이라는 객체를 참조합니다.</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">null</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이제 {name:'inhui'} 은 도달할 수 없는 상태가 되었습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 가비지 컬렉터는 이제 {name:'inhui'} 에 저장된 데이터를 삭제하고, {name:'inhui'}을 메모리에서 삭제합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'inhui'</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">null</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj3.name'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// {name: 'inhui'} 은 obj3 을 통해 접근할 수 있기 때문에 메모리에서 삭제되지 않습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이 상태에서 obj3 을 다른 값(null 등)으로 덮어쓰면 {name: 'inhui'} 은 메모리에서 삭제될 수 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 연결된 객체</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">man</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">woman</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">woman</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">husband</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">man</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">man</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">wife</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">woman</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><br><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">father</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">man</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">mother</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">woman</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">family</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">({</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'inhui'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">},{</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'eunji'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">});</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'family'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">family</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 함수는 매개변수로 받은 두 객체를 서로 참조하게 하면서 두 객체를 포함하는 새로운 객체를 반환합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 지금은 모든 객체가 도달 가능한 상태입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이제 참조 두 개를 지워보겠습니다.</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">delete</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">family</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">father</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// family.father 을 지우더라도 모든 객체가 연결되어있기 떄문에 도달 가능한 상태입니다.</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">delete</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">family</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">mother</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">husband</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이젠 {name: 'eunji'} 만 도달 가능한 상태가 됩니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프로퍼티와 플래그</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 1. writable : true 이면 값을 수정할 수 있습니다. 그렇지 않다면 읽기만 가능합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 2. enumerable : true 이면 반복문을 사용해 나열할 수 있습니다. 그렇지 않다면 반복문을 사용해 나열할 수 없습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 3. configurable : true 이면 프로퍼티 삭제나 플래그 수정이 가능합니다. 그렇지 않다면 프로퍼티 삭제와 플래그 수정이 불가능합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'inhui'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">old</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">32</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">array</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> [</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">],</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프로퍼티 플래그 관련 메서드</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">getOwnPropertyDescriptor</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'array'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">getOwnPropertyDescriptors</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">defineProperty</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'surname'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">value</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'noh'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">enumerable</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">false</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">configurable</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">false</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">writable</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">false</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">});</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">defineProperties</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">({}, {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">value</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'tom'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">writable</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">true</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">enumerable</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">true</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">configurable</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">true</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">},</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">surname</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">value</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'kim'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">});</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 접근자 프로퍼티 getter 와 setter</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 객체의 프로퍼티는 두 종류로 나뉩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 1. 데이터 프로퍼티(data property) : 보통 사용하는 프로퍼티</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 2. 접근자 프로퍼티(access property) : 접근자 프로퍼티의 본질은 함수, 이 함수는 값을 get, set 하는 역할을 담당, 외부 코드에서는 함수가 아닌 일반적인 프로퍼티처럼 보입니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 접근자 프로퍼티는 객체 리터럴 안에서 getter,setter 메서드는 get,set 으로 나타낼 수 있습니다.</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">surname</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'noh'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'inhui'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">get</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">fullName</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">`</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">${</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">this</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">surname</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">}</span><span style="color: rgb(206, 145, 120); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">${</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">this</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">}</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">`</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; },</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">set</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">fullName</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">value</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">getPrototypeOf</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">value</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) === </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Array</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> &amp;&amp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">value</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">length</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> == </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">this</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">surname</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">this</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">] = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">value</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">else</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'not set fullName'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; } &nbsp; </span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">fullName</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = [</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'kim'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'eunji'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">];</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프로토타입 상속</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// [[Prototype]] : 자바스크립트 객체는 명세서에서 명명한 [[Prototype]] 이라는 숨김 프로퍼티를 갖습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// [[Prototype]] 값은 null 이거나 다른 객체에 대한 참조가 되는데, 다른 객체를 참조하는 경우 참조 대상을 '프로토타입' 이라 부릅니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// __proto__ : [[Prototype]] 용 getter, setter 입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// __proto__ 는 하위 호환성 때문에 여전히 사용하지만 비교적 근래에 작성된 스크립트에는 함수 Object.getPrototypeOf , Object.setPrototypeOf 를 사용해 get,set 합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">eats</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">true</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">walk</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">`call keys : </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">${</span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">keys</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">this</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">}</span><span style="color: rgb(206, 145, 120); font-size: 10pt;"> , walk()`</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj5</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">jumps</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">true</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="color: rgb(156, 220, 254); font-size: 10pt;"> :</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj4</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj6</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">earLength</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">10</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj6</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj5</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj6</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">walk</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">());</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프로토타입 체이닝엔 두 가지 제약사항이 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 1. 순환 참조(circular reference) 는 허용되지 않습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 2. __proto__ 의 값은 null 또는 객체만 가능합니다. 다른 자료형은 무시됩니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프로토타입은 읽기 전용입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프로토타입에 프로퍼티를 추가,수정,삭제 연산은 객체에 직접 해야 합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj7</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">surname</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'noh'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'inhui'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">get</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">fullName</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">`</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">${</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">this</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">surname</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">}</span><span style="color: rgb(206, 145, 120); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">${</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">this</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">}</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">`</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; },</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">set</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">fullName</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">value</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">getPrototypeOf</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">value</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) === </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Array</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> &amp;&amp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">value</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">length</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> == </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">this</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">surname</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">this</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">] = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">value</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">else</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'not set fullName'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; } &nbsp; </span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj8</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj7</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">isAdmin</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">true</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj8</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">fullName</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = [</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'kim'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'eunji'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">];</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj7</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">fullName</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj8</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">fullName</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// obj7 의 surname, name 프로퍼티는 변경되지 않았습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 메서드를 객체에서 호출했든 프로토타입에서 호출했든 상관없이 this 는 언제나 . 앞에 있는 객체입니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj9</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj7</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">isAdmin</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">true</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Object.keys 는 객체 자신의 키만 반환합니다.</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">keys</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj9</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// for..in 은 상속 프로퍼티도 순회대상에 포함시킵니다.</span></div><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">for</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">in</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj9</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// obj.hasOwnProperty(key) 를 이용하면 상속 프로퍼티를 순회 대상에서 제외할 수 있습니다.</span></div><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">for</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">in</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj9</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj9</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">hasOwnProperty</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'exist key : '</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> + </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">else</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'prototype key : '</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> + </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">key</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 함수의 prototype 프로퍼티</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 함수의 디폴트 프로퍼티 prototype 과 constructor 프로퍼티</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 개발자가 특별히 할당하지 않더라도 모든 함수는 기본적으로 prototype 프로퍼티를 갖습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// default 프로퍼티 prototype 은 constructor 프로퍼티 하나만 있는 객체를 가리키는데, 여기서 constructor 프로퍼티는 함수 자신을 가리킵니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {};</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">constructor</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> === </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 특별한 조작을 가하지 않았다면 new function 을 실행해 만든 객체 모두에서 constructor 프로퍼티를 사용할 수 있는데, 이때 [[Prototype]] 을 거칩니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">func2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(); </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// {constructor: func1} 을 상속받음</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">constructor</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> == </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">); </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// [[Prototype]] 을 거쳐 접근함</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// constructor 프로퍼티는 기존에 있던 객체의 constructor 를 사용해 새로운 객체를 만들때 사용할 수 있습니다.</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">func3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">constructor</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 자바스크립트는 알맞은 'constructor' 값을 보장하지 않습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 함수엔 기본적으로 prototype 이 설정된다라는 사실 그게 전부입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// constructor 와 관련해서 벌어지는 모든 일은 전적으로 개발자에게 달려있습니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">func4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {};</span></div><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">func4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">jumps</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">true</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">func5</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">func4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func5</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">constructor</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> === </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">func4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// constructor 의 기본 성질을 제대로 활용하려면 prototype 전체를 덮어쓰지 말고 원하는 프로퍼티를 추가,제거해야 합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">func6</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {};</span></div><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">func6</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">jumps</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">true</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// constructor 프로퍼티를 수동으로 다시ㅏ 만들어주면 constructor 를 다시 사용할 수 있습니다.</span></div><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">func4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">constructor</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">func4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 내장 객체의 프로토타입</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 모든 내장 생성자 함수에서 prototype 프로퍼티를 사용합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// new Object() 를 호출하거나 리터럴 문법 {...} 을 사용해 객체를 만들 때, 새롭게 생성된 객체의 [[Prototype]] 은 규칙에 따라 Object.prototype 을 참조합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj10</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {};</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj10</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> === </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj10</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">toString</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> === </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">toString</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 다양한 내장 객체의 프로토타입</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Array, Date, Function 을 비롯한 내장 객체들 역시 프로토타입에 메서드를 저장해 놓습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 원시값</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 문자열,숫자,불린값은 객체가 아닙니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이런 원시 타입 값의 프로퍼티에 접근하려고 하면 내장 생성자 String, Number, Boolean 을 사용하는 임시 래퍼(wrapper)객체가 생성됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 임시 래퍼 객체는 이런 메서드를 제공하고 난 후 사라집니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 래퍼 객체는 보이지 않는 곳에서 만들어지는데 엔진에 의해 최적화가 이뤄집니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// null, undefined 에 대응하는 래퍼 객체는 없습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 따라서 null 과 undefined 에선 메서드와 프로퍼티를 이용할 수 없습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프로토타입도 물론 사용할 수 없습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 네이티브 프로토타입은 수정할 수 있습니다.</span></div><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">String</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">test1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">`String.prototype.test1 by </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">${</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">this</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">}</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">`</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'inhui'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">test1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">());</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 네이티브 프로토타입을 수정하는 것은 기존 코드와 충돌이 날 가능성이 크기 때문에 수정하지 않는게 좋습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 다만 폴리필을 만들때는 허용합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프로토타입에서 메서드 빌려오기</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj11</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">0</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'hello'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'world'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">length</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj11</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">join</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Array</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">join</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj11</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">join</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">','</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프로토타입 메서드와 __proto__ 가 없는 객체</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프로토타입을 설정하기 위한 모던한 메서드</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj12</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">eats</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">true</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Object.create(proto, [descriptors])</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// [[Prototype]] 이 proto 를 참조하는 빈 객체를 만듭니다. 이때 프로퍼티 설명자를 추가로 넘길 수 있습니다.</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj13</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">create</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj12</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">value</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'inhui'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">writable</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">false</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">enumerable</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">false</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">configurable</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">false</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">});</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// obj 의 [[Prototype]] 을 반환합니다.</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">getPrototypeOf</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj13</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// obj의 [[Prototype]] 이 proto 가 되도록 설정합니다.</span></div><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setPrototypeOf</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj13</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, {</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">jumps</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">false</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">});</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Object.create 를 사용하면 효과적으로 객체를 복사할 수 있습니다.</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj14</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">create</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">getPrototypeOf</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj13</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">getOwnPropertyDescriptors</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj13</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 콜백(callback)</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 자바스크립트 호스트 환경에 제공하는 여러 함수를 사용하면 비동기(asynchronous) 동작을 스케줄링 할 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 콜백은 비동기 프로그래밍의 일반적인 접근법입니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScript1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">callback</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">document</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">createElement</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'script'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">onload</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = () </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">callback</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">document</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">head</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">append</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScript1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'/test/testScript1.js'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">`</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">${</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">}</span><span style="color: rgb(206, 145, 120); font-size: 10pt;"> load`</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">testScript1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">});</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이런 방식을 '콜백 기반(callback-based)' 비동기 프로그래밍이라고 합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 무언가를 비동기적으로 수행하는 함수는 함수 내 동작이 모두 처리된 후 실행되어야 하는 함수가 들어갈 콜백을 인수로 반드시 제공해야 합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 콜백 에러 핸들링</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 콜백 함수는 에러 핸들링할 수 있어야 합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 오류 우선 콜백(error-first callback) 패턴은 다음 관례를 따릅니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 1. callback 의 첫 번째 인수는 에러를 위해 남겨둡니다. 에러가 발생하면 이 인수를 이용해 callback(err) 가 호출됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 2. 두 번째 인수(필요하면 인수를 더 추가할 수 있음)는 에러가 발생하지 않았을 때를 위해 남겨둡니다. 원하는 동작이 성공한 경우엔 callback(null, result1, result2...) 가 호출됩니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScript2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">callback</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">document</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">createElement</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'script'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">onload</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = () </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">callback</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">null</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">onerror</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = (</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">callback</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'script load error'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">document</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">head</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">append</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScript2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'/test/testScript3.js'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, (</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">`error : </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">${</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">}</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">`</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">else</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">`</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">${</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">}</span><span style="color: rgb(206, 145, 120); font-size: 10pt;"> load`</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">testScript2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">});</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 오류 우선 콜백 스타일을 사용하면, 단일 콜백 함수에서 에러 케이스와 성공 케이스 모두를 처리할 수 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 멸망의 피라미드</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 콜백 기반 비동기 처리는 언뜻 봤을 때 꽤 쓸만해 보이고, 실제로도 그렇습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 한 개 혹은 두 개의 중첩 호출이 있는 경우는 보기에도 나쁘지 않습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 하지만 꼬리에 꼬리를 무는 비동기 동작이 많아지면 아래와 같은 코드 작성이 불가피해 집니다.</span></div><br><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScript2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'/test/1.js'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, (</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">`error1 : </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">${</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">}</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">`</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">else</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScript2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'/test/2.js'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, (</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">`error2 : </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">${</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">}</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">`</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">else</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScript2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'test/3.js'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, (</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ...</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; })</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; })</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">})</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이렇게 깊은 중첩 코드가 만들어지는 패턴은 소위 '콜백 지옥(callback hell)' 혹은 '멸망의 피라미드(pyramid of doom)' 라고 불립니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이런 코딩 방식은 좋지 않습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 멸망의 피라미드를 피할 방법이 몆가지 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 각 동작을 독립적인 함수로 만들어 위와 같은 문제를 해결하는 방법도 있지만 코드가 찢어진 종잇조각 같아 보인다는 문제가 생깁니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 가장 좋은 방법 중 하나는 '프라미스(promise)' 를 사용하는 것입니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스(promise)</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// promise 객체는 아래와 같은 문법으로 만들 수 있습니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">promise1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// execurotr</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">});</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// new Promise 에 전달되는 함수는 executor(실행자, 실행함수) 라고 부릅니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// executor 는 new Promise 가 만들어질 때 자동으로 실행되는데, 결과를 최종적으로 만들어내는 제작 코드를 포함합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// executor 의 인수 resolve 와 reject 는 자바스크립트에서 자체 제공하는 콜백입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// executor 에선 결과를 즉시 얻든 늦게 얻든 상관없이 상황에 따라 인수로 넘겨준 콜백 중 하나를 반드시 호출해야 합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// resolve(value) - 성공적으로 끝난 경우 그 결과를 나타내는 value와 함께 호출</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// reject(error) - 에러 발생 시 에러 객체를 나타내는 error 와 함께 호출</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// new Promise 생성자가 반환하는 promise 객체는 다음과 같은 내부 프로퍼티를 갖습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// state - 처음엔 pending(보류) 이었다 resolve 가 호출되는 'fulfilled', reject 가 호출되면 'rejected' 로 변합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// result - 처음엔 undefined 이었다 resolve(value) 가 호출되면 value 로, reject(error) 가 호출되면 error 로 변합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">promise2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise2'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise success : '</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> + </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise error : '</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> + </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">promise3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise3'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise success : '</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> + </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise error : '</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> + </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// executor 는 보통 시간이 걸리는 일을 수행합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 일이 끝나면 resolve 나 reject 함수를 호출하는데, 이때 프라미스 객체의 상태가 변화합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스는 성공 또는 실패만 합니다. executor는 resolve 나 reject 중 하나를 반드시 호출해야 합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// promise : then</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// .then 의 첫 번째 인수는 프라미스가 이행되었을 때 실행되는 함수이고, 여기서 실행 결과를 받습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// .then 의 두 번째 인수는 프라미스가 거부되었을 때 실행되는 함수이고, 여기서 에러를 받습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// promise : catch</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러가 발생한 경우만 다루고 싶다면 .then(null, errorHandle) 같이 null 을 첫 번째 인수로 전달하면 됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// .catch(errorHandle) 를 써도 되는데 .catch 는 .then 에 null 을 전달하는 것과 동일하게 작동합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">promise4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise4'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise success : '</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> + </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise error : '</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> + </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// .catch(f) 는 .then(null, f) 와 완벽하게 같습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// promise : finally</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 결과가 어떻든 마무리가 필요하면 finally 가 유용합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// finally 핸들러엔 인수가 없습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// finally 에선 프라미스가 이행되었는지, 거부되었는지 알 수 없습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// finally 에선 절차를 마무리하는 '보편적' 동작을 수행하기 때문에 성공,실패 여부를 몰라도 됩니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">promise5</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise5'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">4000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise success : '</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> + </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise error : '</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> + </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">finally</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; () </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise5 finally'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 처리된 프라미스의 핸들러는 즉각 실행됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스가 대기 상태일 때 .then/catch/finally 핸들러는 프라미스가 처리되길 기다립니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 반면 프라미스가 이미 처리상태라면 핸들러가 즉각 실행됩니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">promise6</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise6'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">5000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">});</span></div><br><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">promise6</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise success : '</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> + </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; ).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise error : '</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> + </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; ).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">finally</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; () </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise6 finally'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; )</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}, </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">7000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스 체이닝</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 콜백 챕터의 멸망의 피라미드와 같이 문제를 프라미스를 사용하면 여러 가지 해결책을 만들 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스 체이닝은 아래와 같이 생겼습니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">8000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise chain1-1'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">*</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise chain1-2'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">*</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise chain1-3'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">*</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">});</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스 체이닝이 가능한 이유는 promise.then 을 호출하면 프라미스가 반환되기 때문입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 반환된 프라미스엔 당연히 .then 을 호출할 수 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스 반환하기</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// .then(handler) 에 사용된 핸들러가 프라미스를 생성하거나 반환하는 경우도 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이 경우 이어지는 핸들러는 프라미스가 처리될 때까지 기다리다가 처리가 완료되면 그 결과를 받습니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">9000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise chain2-1'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">*</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; });</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise chain2-2'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">*</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; });</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise chain2-3'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이렇게 핸들러 안에서 프라미스를 반환하는 것도 비동기 작업 체이닝을 가능하게 해줍니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// fetch 와 체이닝 함께 응용하기</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프론트 단에선, 네트워크 요청 시 프라미스를 자주 사용합니다.</span></div><br><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">fetch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'/save/jsonData.json'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">res</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">res</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">json</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">())</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">userlist</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">userlist</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스와 에러 핸들링</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스가 거부되면 제어 흐름이 제일 가까운 rejection 핸들러로 넘어가기 때문에 프라미스 체인을 사용하면 에러를 쉽게 처리할 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// .catch 는 첫번째 핸들러일 필요가 없고 하나 혹은 여러 개의 .then 뒤에 올 수 있습니다.</span></div><br><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">fetch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'/save/jsonData.json'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">res</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">res</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">json</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">())</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">userlist</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">userlist</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">[</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">0</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">])</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">user</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'user'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">user</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">throw</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise error handle1 : error'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// reject(new Error('promise error handle1 : error'));</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">})</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 암시적 try..catch</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스 executor 와 프라미스 핸들러 코드 주위엔 '보이지 않는(암시적) try..catch' 가 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 예외가 발생하면 암시적 try..catch 에서 스스로 예외를 잡고, 에러를 거부상태의 프라미스로 변경시킵니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// .then 핸들러 안에서 throw 를 사용해 에러를 던지면, 이 자체가 거부된 프라미스를 의미하게 됩니다. 따라서 제어 흐름이 가장 가까운 에러 핸들러로 넘어갑니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">''</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">throw</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise error handle2 : error'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 다시 던지기</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// .catch 안에서 throw 를 사용하면 제어 흐름이 가장 가까운 곳에 있는 에러 핸들러로 넘어갑니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 여기서 에러가 성공적으로 처리되면 가장 가까운 곳에 있는 .then 핸들러로 제어 흐름이 넘어가 실행이 이어집니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 아래 예시의 .catch 는 에러를 성공적으로 처리합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">throw</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'error1'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'에러 처리 완료1'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'에러 처리 후 핸들러 실행1'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// .catch 블록이 정상적으로 종료되었기 때문에 다음 성공 핸들러 .then 이 호출된 것을 확인할 수 있습니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">throw</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">Erorr</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'error2'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'에러 처리 시도'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">instanceof</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">URIError</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러 처리</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">else</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">throw</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러 다시 던짐</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; () </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'실행되지 않음'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'에러 처리 불가'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">});</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 실행 흐름이 첫 번째 .catch 로 넘어갔다가 다음 .catch 로 이어지는 것을 확인할 수 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 처리되지 못한 거부</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">blabla</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><br><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">});</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러가 발생하면 프라미스는 거부상태가 되고, 실행 흐름이 가장 가까운 rejection 핸들러로 넘어갑니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 위 예시엔 예외를 처리해 줄 핸들러가 없어서 에러가 갇혀버립니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 자바스크립트 엔진은 프라미스 거부를 추적하다가 위와 같은 상황이 발생하면 전역 에러를 생성합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스 API</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Promise 클래스에는 5가지 정적 메서드가 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Promise.all</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Promise.all 은 요소 전체가 프라미스인 배열(엄밀히 따지면 이터러블 객체이지만, 대개는 배열임)을 받고 새로운 프라미스를 반환합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 배열 안 프라미스가 모두 처리되면 새로운 프라미스가 이행되는데, 배열 안 프라미스의 결괏값을 담은 배열이 새로운 프라미스의 result 가 됩니다.</span></div><br><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">all</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">([</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">]).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// result 요소 순서는 Promise.all 에 전달되는 프라미스 순서와 상응합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">urls</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = [</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'test/fetchTest'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'test/fetchTest2'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'test/fetchTest3'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'test/fetchTest4'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">];</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">requests</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">urls</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">map</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">url</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">fetch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">url</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">all</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">requests</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">responses</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">all</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">responses</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">map</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">res</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">res</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">json</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">())))</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">dataList</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">dataList</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">))</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Promise.all 에 전달되는 프라미스 중 하나라도 거부되면, Promise.all 이 반환하는 프라미스는 에러와 함께 바로 거부됩니다.</span></div><br><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">all</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">([</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">5</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'error'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">6</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">]).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">))</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Promise.allSettled</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Promise.all 은 프라미스가 하나라도 거절되면 전체를 거절합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Promise.allSettled 는 프라미스가 처리될 때까지 기다립니다. 반환되는 배열은 다음과 같은 요소를 갖습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 응답이 성공할 경우 - {status: 'fulfilled', value: result}</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러가 발생한 경우 - {status: 'rejected', reason:error}</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">urls2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = [</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'test/fetchTest'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'https://no-such-url'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'test/fetchTest3'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">];</span></div><br><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">allSettled</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">urls2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">map</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">url</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">fetch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">url</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)))</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">responses</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">responses</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">map</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">res</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">res</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">status</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> == </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'rejected'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">res</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">reason</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; })</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">responses</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">responses</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">allSettled</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">responses</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">filter</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">res</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">res</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">status</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> == </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'fulfilled'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">map</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">res</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">res</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">value</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">map</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">res</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">res</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">json</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">())))</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">dataList</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">dataList</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">))</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Promise.allSettled 를 사용하면 이처럼 각 프라미스의 상태와 값 또는 에러를 받을 수 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Promise.race</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Promise.race 는 Promise.all 과 비슷합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 다만 가강 먼저 처리되는 프라미스의 결과를 반환합니다.</span></div><br><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">race</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">([</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'race1'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">10000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'race2'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">5000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'race3'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">]).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Promise.resolve , Promise,reject</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Promise.resolve , Promise,reject 는 async / await 문법이 생긴 후 쓸모 없어졌기 때문에 근래에는 거의 사용하지 않습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스화</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 콜백을 받는 함수를 프라미스를 반환하는 함수로 바꾸는 것을 '프라미스화(promisification)' 라고 합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 기능을 구현 하다 보면 콜백보다는 프라미스가 더 편리하기 때문에 콜백 기반 함수와 라이브러리를 프라미스를 반환하는 함수로 바꾸는 게 좋은 경우가 종종 생길 겁니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScript</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">callback</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">document</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">createElement</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'script'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">onload</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = () </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">callback</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">null</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">onerror</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = () </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">callback</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'error'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">document</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">head</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">append</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 사용법</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// loadScript('/test/testScript1.js', (err, script) =&gt; {...});</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// loadScript(src, callback) 을 이제 프라미스화 해봅시다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 새로운 함수 loadScriptPromise(src) 는 loadScript 와 동일하게 동작하지만 callback 을 제외한 src 만 인수로 받아야 하고, 프라미스를 반환해야 합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScriptPromise1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScript</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, (</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">err</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">err</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">err</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">else</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; })</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; });</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">};</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 사용법</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// loadScriptPromise1('/test/testScript1.js').then(...);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 예시에서 볼 수 있듯이, loadScriptPromise 는 기존 함수 loadScript 에 모든 일을 위임합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// loadScript 의 콜백은 스크립트 로딩 상태에 따라 이행 혹은 거부 상태의 프라미스를 반환합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 실무에선 함수 하나가 아닌 여러 개의 함수를 프라미스화 해야 할 겁니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 헬퍼 함수를 만드는게 좋습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스화를 적용할 함수 f 를 받고 래퍼 함수를 반환하는 함수 promisfy(f) 를 만들어봅시다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">promisfy1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">f</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(...</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">args</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) { </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 래퍼 함수를 반환</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">callback</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">err</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) { </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// f 에 사용할 커스텀 콜백</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">err</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">err</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">else</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">args</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">push</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">callback</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">); </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 위에서 만든 커스텀 콜백을 함수 f의 인수 끝에 추가</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">f</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">call</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">this</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, ...</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">args</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">); </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 기존 함수를 호출</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; })</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScriptPromise2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">promisfy1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScript</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// loadScriptPromise2('/test/testScript1.js').then(result =&gt; testScript1()).catch(e =&gt; console.log(e));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 위 예시는 프라미스화 할 함수가 인수가 두개(err,result) 인 콜백을 받을 것이라 가정하고 작성되었습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 함수 f 가 두 개를 초과하는 인수를 가진 콜백, callback(err, result1, result2, ...) 을 받는다면 어떤 일이 발생할까요?</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이런 경우를 대비하여 좀 더 진화한 함수, promisfy 를 만들어 봅시다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScript2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">callback</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">document</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">createElement</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'script'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">src</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">onload</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = () </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">callback</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">null</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, [</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">], </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'success'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">onerror</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = () </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">callback</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'error'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">document</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">head</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">append</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">script</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">promisfy2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">f</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(...</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">args</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">callback</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">err</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, ...</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">results</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">err</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">err</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">else</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">([...</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">results</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">]);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">args</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">push</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">callback</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">f</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">call</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">this</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, ...</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">args</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; })</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScriptPromise3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">promisfy2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScript2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScriptPromise3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'/test/testScript1.js'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'loadScriptPromise3'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScriptPromise4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">promisfy2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScript</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">loadScriptPromise4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'/test/testScript1.js'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'loadScriptPromise4'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 본 챕터에서 설명한 헬퍼 함수보다 더 유용한 형태의 프라미스화를 도와주는 함수를 제공하는 모듈도 많습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// es6-promisfy 가 대표적인 예입니다. (https://github.com/mikehall314/es6-promisify)</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Node.js 에선 내장 함수 util.promisfy 를 사용해 프라미스화를 할 수 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 마이크로태스크</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스 핸들로 .then / catch / finally 는 항상 비동기적으로 실행됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스가 즉시 이행되더라도 .then / catch/ finally 아래에 있는 코드는 이 핸들러들이 실행되기 전에 실행됩니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 마이크로태스크 큐</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 비동기 작업을 처리하려면 적절한 관리가 필요합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이를 위해 ECMA 에선 PromiseJobs 라는 내부 큐를 명시합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// V8 엔진에선 이를 '마이크로태스크 큐(microtask queue)' 라고 부르기 때문에 이 용어가 좀 더 선호됩니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 명세서의 설명을 살펴봅시다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// - 마이크로태스크 큐는 먼저 들어온 작업을 먼저 실행합니다. (FIFO)</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// - 실행할 것이 아무것도 남아있지 않을 때만 마이크로태스크 큐에 있는 작업이 실행되기 시작합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 요약하자면, 어떤 프라미스가 준비되었을 때 이 프라미스의 .then / catch / finally 핸들러가 큐에 들어간다고 생각하시면 됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이때 핸들러들은 여전히 실행되지 않습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 현재 코드에서 자유로운 상태가 되었을 때에서야 자바스크립트 엔진은 큐에서 작업을 꺼내 실행합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise success'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">for</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">i</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">=</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">0</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">i</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">&lt;=</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1000000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">i</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">++) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">i</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> == </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1000000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">i</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 실행결과</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 1000000</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// promise success</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스 핸들러는 항상 내부 큐를 &nbsp;통과하게 됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 여러 개의 .then / catch / finally 를 사용해 만든 체인의 경우, 각 핸들러는 비동기적으로 실행됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 큐에 들어간 핸들러 각각은 현재 코드가 완료되고, 큐에 적제된 이전 핸들러의 실행이 완료되었을 때 실행됩니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 처리되지 못한 거부</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이제 자바스크립트 엔진이 어떻게 처리되지 못한 거부(unhandledrejection)를 찾는지 정확히 알 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// '처리되지 못한 거부' 는 마이크로태스크 큐 끝에서 프라미스 에러가 처리되지 못할 때 발생합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 정상적인 경우라는 에러가 발생할것을 대비하여 프라미스 체인에 .catch 를 추가해 에러를 처리합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// .catch 를 추가해주는 걸 잊은 경우, 엔진은 마이크로태스크 큐가 빈 이후에 unhandledrejection 이벤트를 트리거 합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// async 와 await</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// async 함수</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// function 앞에 async 를 붙이면 해당 함수는 항상 프라미스를 반환합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스가 아닌 값을 반환하더라도 이행 상태의 프라미스(resolved promise)로 값을 감싸 이행된 프라미스가 반환되도록 합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">async</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'func1'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'func2'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">()); </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// fulfilled promise</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">());</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 명시적으로 프라미스를 반환하는 것도 가능합니다. 결과는 동일합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">async</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'func3'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">());</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// async 가 붙은 함수는 반드시 프라미스를 반환하고, 프라미스가 아닌 것은 프라미스로 감싸 반환합니다.</span></div><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">func3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">().</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">then</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// await</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// await 는 async 함수 안에서만 동작합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 자바스크립트는 await 키워드를 만나면 프라미스가 처리될 때까지 기다립니다. 결과는 그 이후 반환됩니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">async</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">func4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'func4'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">), </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; });</span></div><br><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">await</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스가 이행될 때까지 기다림</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'func4 after??'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">func4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// await 는 말 그대로 프라미스가 처리될 때까지 함수 실행을 기다리게 만듭니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스가 처리되면 그 결과와 함께 실행이 재개되죠.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스가 처리되길 기다리는 동안엔 엔진이 다른 일(다른 스크립트 실행, 이벤트 처리 등)을 할 수 있기 때문에, CPU 리소스가 낭비되지 않습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// await 는 promise.then 보다 좀 더 세력되게 프라미스의 result 값을 얻을 수 있도록 해주는 문법입니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">async</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func5</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">response</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">await</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">fetch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'/save/jsonData.json'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">data</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">await</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">response</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">json</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">data</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">func5</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// await 는 최상위 레벨 코드에서 작동하지 않습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 하지만 익명 async 함수로 코드를 감싸면 최상위 레벨 코드에도 await 를 사용할 수 있습니다.</span></div><br><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">async</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> () </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">response</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">await</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">fetch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'/save/jsonData.json'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">data</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">await</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">response</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">json</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">data</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">})();</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러 핸들링</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프라미스가 정상적으로 이행되면 await promise 는 프라미스 객체의 result 에 저장된 값을 반환합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 반면에 프라미스가 거부되면 마치 throw 문을 작성한 것처럼 에러가 던져집니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// await 가 던진 에러는 throw 가 던진 에러를 잡을 때처럼 try..catch 를 사용해 잡을 수 있습니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">async</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">func6</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">response</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">await</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">fetch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'http://none'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">func6</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try..catch 가 없으면 async 함수를 호출해 만든 프라미스가 거부 상태가 됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// .catch 를 추가하면 거부된 프라미스를 처리할 수 있습니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">async</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func7</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">response</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">await</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">fetch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'http://none'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">func7</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">().</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">));</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// .catch 를 추가하는 걸 잊으면 처리되지 않은 프라미스 에러가 발생합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이런 에러는 전역 이벤트 핸들러 unhandledrejection 을 사용해 잡을 수 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// async/await 와 promise.then/catch</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// async/await 을 사용하면 await 가 대기를 처리해주기 때문에 .then 이 거의 필요하지 않습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 여기에 더하여 .catch 대신 일반 try..catch 를 사용할 수 있다는 장점도 생깁니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 문법 제약 때문에 async 함수 바깥의 최상위 레벨 코드에선 await 를 사용할 수 없습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그렇기 때문에 관행처럼 .then/catch 를 추가해 최종 결과나 처리되지 못한 에러를 다룹니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// async / await 는 Promise.all 과도 함께 쓸 수 있습니다.</span></div><br><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">async</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">results</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">await</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">all</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">([</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; (</span><span style="color: rgb(197, 134, 192); font-size: 10pt;">await</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">fetch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'/save/jsonData.json'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">json</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Promise</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">((</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">reject</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">resolve</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'promise1'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)),</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; ]);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'Promise.all'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">results</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">})();</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ----------------------------------------------------------------------------------------------------------------------------------------------------------------</span></div></div></div>