<div style="color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 'try..catch' 와 에러 핸들링</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 아무리 프로그래밍에 능한 사람이더라도 에러가 있는 스크립트를 작성할 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 원인은 아마도 실수, 예상치 못한 사용자 입력, 잘못된 서버 응답 등의 수천만 가지 이유 때문일 겁니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러가 발생하면 스크립트는 죽고, 콘솔에 에러가 출력됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그러나 try..catch 문법을 사용하면 스크립트가 죽는 걸 방지하고, 에러를 잡아서 더 합당한 무언가를 할 수 있게 됩니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try...catch 문법</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try...catch 문법은 try 와 catch 라는 두 개의 주요 블록으로 구성됩니다.</span></div><br><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 코드 </span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">} </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">err</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러 핸들링</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try...catch 동작 알고리즘은 다음과 같습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 1. 먼저 try {...} 안의ㅏ 코드가 실행됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 2. 에러가 없다면, try 안의 마지막 줄까지 실행되고, catch 블록은 건너뜁니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 3. 에러가 있다면, try 안 코드의 실행이 중단되고, &nbsp;catch(err) 블록으로 제어 흐름이 넘어갑니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 변수 err 는 무슨 일이 일어났는지에 대한 설명이 담긴 에러 객체를 포함합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이렇게 try {...} 블록 안에서 엥러가 발생해도 catch 에서 에러를 처리하기 때문에 스크립트는 즉지 않습니다.</span></div><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try..catch 는 오직 런타임 에러에만 동작합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// &nbsp;try..catch 는 실행 가능한(runnable) 코드 에만 동작합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 실행 가능한 코드는 유효한 자바스크립트 코드를 의미합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 중괄호 짝이 안맞는 것처럼 코드가 문법적으로 잘못된 경우엔 try..catch 가 동작하지 않습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try {</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// &nbsp; &nbsp; {{{</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// } catch(e) {</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// &nbsp; &nbsp; console.log(e);</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// }</span></div><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 자바스크립트 엔진은 코드를 읽고 난 후 코드를 실행합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 코드를 읽는 중에 발생하는 에러는 'parse time 에러' 라고 부르는데, 엔진은 이 코드를 이해할 수 없기 때문에 parse-time 에러는 코드 안에서 복구 불가능합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try..catch 는 유효한 코드에서 발생하는 에러만 처리할 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이런 에러를 '런타임 에러(runtime error)' 혹은 '예외(exception)' 라고 부릅니다.</span></div><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try..catch 는 동기적으로 동작합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// setTimeout 처럼 스케줄 된(scheduled) 코드에서 발생한 예외는 try..catch 에서 잡아낼 수 없습니다.</span></div><br><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// noSuchVariable;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }, </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">} </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'catch1'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// setTimeout 에 넘겨진 익명 함수는 엔진이 try..catch 를 떠난 다음에서야 실행되기 때문입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 스케줄 된 함수 내부의 예외를 잡으려면, try..catch 를 반드시 함수 내부에 구현해야 합니다.</span></div><br><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">setTimeout</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(() </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">=&gt;</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">noSuchVariable</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'catch2'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}, </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1000</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러 객체</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러가 발생하면 자바스크립트는 에러 상세내용이 담긴 객체를 생성합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그 후 catch 블록에 이 객체를 인수로 전달합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 내장 에러 전체와 에러 객체는 두 가지 주요 프로퍼티를 가집니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// name</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러 이름, 정의되지 않은 변수 때문에 발생한 에러라면 'ReferenceError' 가 이름이 됩니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// message</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러 상세 내용을 담고 있는 문자 메시지</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 표준은 아니지만 name 과 message 이외의 대부분의 호스트 환경에서 지원하는 프로퍼티도 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// stack 은 가장 널리 사용되는 비표준 프로퍼티 중 하나입니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// stack</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 현재 호출 스택, 에러를 유발한 중첩 호출들의 순서 정보를 가진 문자열로 디버깅 목적으로 사용됩니다.</span></div><br><br><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">lalala</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">} </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'e'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'e.name'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'e.message'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">message</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'e.stack'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">stack</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 선택적 'catch' 바인딩</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 스펙에 추가된 지 얼마 안 된 문법입니다. 구식 브라우저는 폴리필이 필요합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러에 대한 자세한 정보가 필요하지 않으면, catch 에서 이를 생략할 수 있습니다.</span></div><br><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><br><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">} </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> { </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// error 인수 객체 없이 쓸 수 있음</span></div><br><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 직접 에러를 만들어서 던지기</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// json 이 문법적으로 잘못되진 않았지만, 스크립트 내에서 사용 중인 필수 프로퍼티 name 을 가지고 있지 않다면 무슨 일이 생길까요?</span></div><br><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">json</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'{"age": 30}'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">JSON</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">parse</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">json</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">alert</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">} </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'catch3'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 위 예시에서 JSON.parse 는 정상적으로 실행되었지만 name 이 없는 건 에러를 유발하는 상황입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이제 throw 연산자를 사용해 에러 처리를 통합해 보도록 하겠습니다.</span></div><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 'throw' 연산자</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// throw 연산자는 에러를 생성합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 문법은 다음과 같습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// throw &lt;erorr object&gt;</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이론적으로는 숫자, 문자열 같은 원시형 자료를 포함한 어떤 것이든 에러 객체(error object)로 사용할 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 하지만 내장 에러와의 호환을 위해 되도록 에러 객체에 name 과 message 프로퍼티를 넣어주는 것을 권장합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 자바스크립트는 Error, SyntaxError, ReferenceError, TypeError 등의 표준 에러 객체 관련 생성자를 지원합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이 생성자들을 이용해 에러 객체를 만들 수도 있습니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'Error message'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">SyntaxError</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'SyntaxError message'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">ReferenceError</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'ReferenceError message'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">TypeError</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'TypeError message'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 일반 객체가 아닌 내장 생성자를 사용해 만든 내장 에러 객체의 name 프로퍼티는 생성자 이름과 동일한 값을 갖습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프로퍼티 message 의 값은 인수에서 가져옵니다.</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'error2.name'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'error2.message'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">message</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// throw 연산자를 사용해 에러를 던져보겠습니다.</span></div><br><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">json</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'{"age": 30}'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">JSON</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">parse</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">json</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(!</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">throw</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">SyntaxError</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj.name not exist'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">); </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// (*)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">alert</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">} </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'catch4'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// (*) 로 표시한 줄에서 throw 연산자는 message 를 이용해 SyntaxError 를 생성합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러 생성 방식은 자바스크립트가 자체적으로 에러를 생성하는 방식과 동일합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러가 발생했으므로 try 의 실행은 즉시 중단되고 제어 흐름이 catch 로 넘어간 것을 확인할 수 있네요.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이제 JSON.parse 에서 에러가 발생한 경우를 포함해서 모든 에러를 catch 블록 안에서 처리할 수 있게 되었습니다.</span></div><br><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러 다시 던지기</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 위 예시에선 불완전한 데이터를 try..catch 로 처리하였습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 또 다른 예기치 않은 에러가 try {...} 블록 안에서 발생 할 수도 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 정의되지 않은 변수 사용 등의 프로그래밍 에러가 발생할 가능성은 항상 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러는 어떤 상황에서도 발생할 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 몆십 년간 몆백만 명이 사용한 오픈소스 유틸리티에서도 끔찍한 해킹으로 이어질 수 있는 엄청난 버그가 발견되죠.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 위에선 불완전한 데이터를 다루려는 목적으로 try catch 를 썼습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 catch 는 원래 try 블록에서 발생한 모든 에러를 잡으려는 목적으로 만들어졌습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러 종류에 관계없이 동일한 방식으로 에러를 처리하는 것은 디버깅을 어렵게 만들기 떄문에 좋지 않습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이런 문제를 피하고자 '다시 던지기(rethrowing)' 기술을 사용합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 규칙은 간단합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// catch 는 알고 있는 에러만 처리하고 나머지는 '다시 던져야' 합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// '다시 던지기' 기술을 더 자세히 설명하겠습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 1. catch가 모든 에러를 받습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 2. catch(e) {...} 블록 안에서 에러 객체 e 를 분석합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 3. 에러 처리 방법을 알지 못하면 throw e 를 합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 보통 에러 타입을 instanceof 명령어로 체크합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">json1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'{"age" : 30}'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">user</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">JSON</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">parse</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">json1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(!</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">user</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">throw</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">SyntaxError</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'SyntaxError message2'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><br><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">user</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">name</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">} </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">instanceof</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">SyntaxError</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">stack</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">else</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">throw</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러 다시 던지기 (*)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// catch 블록 안의 throw e 에서 다시 던져진(rethrow) 에러는 try..catch '밖으로 던져집니다.'</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이때 바깥에 try...catch 가 있다면 여기서 다시 에러를 잡습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 아니라면 스크립트는 죽을 겁니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이렇게 하면 catch 블록에선 어떻게 다룰지 알고 있는 에러만 처리하고, 알 수 없는 에러는 건너뛸 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이게 try..catch 를 하나 더 만들어, 다시 던져진 예상치 못한 에러를 처리해 보겠습니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">json</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'{"age" : 30}'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><br><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(!(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">instanceof</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">SyntaxError</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">throw</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">} </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'func1'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// func1 은 SyntaxError 만 처리할 수 있지만, 함수 바깥의 try...catch 에서는 예상치 못한 에러도 처리할 수 있게 되었습니다.</span></div><br><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try...catch...finally</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try..catch 는 finally 라는 코드 절을 하나 더 가질 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// finally 안의 코드는 다음과 같은 상황에서 실행됩니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러가 없는 경우 : try 실행이 끝난 후</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러가 있는 경우 : catch 실행이 끝난 후</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// finally 를 실행하면 try..catch 를 다음과 같이 확장할 수 있습니다.</span></div><br><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><br><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">} </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><br><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">} </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">finally</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><br><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// finally 절은 무언가를 실행하고, 실행 결과에 상관없이 실행을 완료하고 싶을 경우 사용됩니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 파보나치 함수 fib(n) 의 연산 시간을 측정하고 싶다고 해봅시다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 함수 실행 전에 측정을 시작해서 실행이 끝난 후 측정을 종료하면 되겠죠.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 함수 실행 도중 에러가 발생하면 어떻게 될까요?</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 아래 fib(n) 에는 음수나 정수가 아닌 수를 입력할 경우 에러가 발생합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이런 경우에 finally 를 사용할 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// finally 절은 무슨 일이 일어났든 관계없이 연산 시간 측정을 끝마치기 적절한 곳이죠.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// fib 함수가 에러 없이 정상적으로 실행되든 에러가 발생하든 상관없이 finally 를 사용하면 연산 시간을 제대로 측정할 수 있습니다.</span></div><br><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">num</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = +</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">prompt</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'양의 정수를 입력해주세요.'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">35</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">diff</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">fib</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">n</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">n</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> &lt; </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">0</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> || </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">Math</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">trunc</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">n</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) != </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">n</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">throw</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'음수나 정수가 아닌 값은 처리할 수 없습니다.'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">n</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> &lt;= </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> ? </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">n</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> : </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">fib</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">n</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">-</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) + </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">fib</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">n</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">-</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">start</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Date</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">now</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><br><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">fib</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">num</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">} </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">0</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">} </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">finally</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">diff</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Date</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">now</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() - </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">start</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">result</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> || </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'fib error'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'연산 시간 : '</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> + </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">diff</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 코드를 실행하고 프롬프트 대화상자에 35 를 입력하면 try 다음에 finally 가 정상적으로 실행되면서 연산 시간을 확인할 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// -1 을 입력하면 에러가 발생하고, 연산 시간은 0 이 됩니다. </span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 두 경우 모두 연산 시간이 정상적으로 측정되었네요.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 함수는 return 이나 throw 를 만나면 종료되는데, 이렇게 finally 절을 사용하면 두 경우 모두를 처리할 수 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try..catch..finally 안의 변수는 지역 변수입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 위 예시에서 변수 diff, result 는 try..catch 전에 선언되었다는 점에 주의해 주세요.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try 블록 안에서 선언한 변수는 블록 안에서만 유효한 지역 변수가 됩니다.</span></div><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// finally 와 return</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// finally 절은 try..catch 절을 빠져나가는 어떤 경우에도 실행됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// return 을 사용해 명시적으로 빠져나가려는 경우도 마찬가지입니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 아래 예시의 try 블록 안엔 return 이 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이 경우엔 값이 바깥 코드로 변환되기 전에 finally가 실행됩니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'func2'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">;</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">e</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><br><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">finally</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'func2 finally'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">);</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func2</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">());</span></div><br><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try..finally</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// catch 절 없이 try...finally 구문도 상황에 따라 유용하게 쓸 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try..finally 안에선 에러를 처리하고 싶지 않지만, 시작한 프로세스가 마무리되었는지 확실히 하고 싶은 경우에 사용합니다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func3</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 무언가를 측정하는 경우와 같이 끝맺음이 있어야 하는 프로세스</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// ...</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; } </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">finally</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 스크립트가 죽더라도 완료됨</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 전역 catch</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 호스트 환경을 확인하세요. 이 절은 코어 자바스크립트가 아닙니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try..catch 바깥에서 치명적인 에러가 발생해 스크립트가 죽었다고 생각해봅시다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 대처 방법은 무엇이 있을까요?</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 어딘가에 에러 내역을 기록해 놓거나 사용자에게 에러가 발생했음을 알려주는 행위를 할 수 있을 겁니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 자바스크립트 명세서에는 이런 치명적인 에러에 대응하는 방법이 적혀있지 않습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 하지만 try..catch 에서 처리하지 못한 에러를 잡는 것은 아주 중요하기 때문에, 자바스크립트 호스트 환경 대다수는 자체적으로 에러 처리 기능을 제공합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Node.js 의 process.on('uncaughtException') 이 그 예입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 브라우저 환경에선 window.onerror 를 이용해 에러를 처리할 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// window.onerror 프로퍼티에 함수를 할당하면, 예상치 못한 에러가 발생했을 때 이 함수가 실행됩니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 문법</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">window</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">onerror</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">message</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">url</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">line</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">col</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'window.onerror'</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">message</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">url</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">line</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">col</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">error</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">)</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// message : 에러 메시지</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// url : 에러가 발생한 스크립트의 url</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// line, col : 에러가 발생한 곳의 줄과 열의 변호</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// error : 에러 객체</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">() {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">func5</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(220, 220, 170); font-size: 10pt;">func4</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">();</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 전역 핸들러 window.onerror 는 죽어버린 스크립트를 복구하려는 목적으로는 잘 사용하지 않습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프로그래밍 에러가 발생한 경우 window.onerror 만으로 스크립트를 복구하는 건 사실상 불가능합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// window.onerror 는 개발자에게 여러 메시지를 보내는 용도로 사용합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// window.onerror말고 https://errorception.com 나 http://www.muscula.com같은 에러 로깅 관련 상용 서비스가 여러 가지 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이런 서비스들은 다음과 같은 프로세스로 동작합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 1. 서비스를 가입하면 자바스크립트 파일(혹은 스크립트 url)을 받는데, 개발자는 이 파일을 페이지에 삽입합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 2. 받은 파일은 커스텀 window.onerror 함수를 설정합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 3. 에러가 발생하면, 이 커스텀 함수가 에러에 관한 내용을 담아 서비스에 네트워크 요청을 보냅니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 4. 개발자는 서비스 사이트에 로그인해 기록된 에러를 확인합니다.</span></div><br><br><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 요약</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try..catch 를 이용하면 런타임 에러를 처리할 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try 에선 코드를 실행하고, 에러가 발생하면 catch 에서 잡아냅니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 문법은 다음과 같습니다.</span></div><br><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">try</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이곳의 코드를 실행</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">} </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">catch</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">err</span><span style="color: rgb(212, 212, 212); font-size: 10pt;">) {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러가 발생하면, 여기부터 실행됨</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// err는 에러 객체</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">} </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">finally</span><span style="color: rgb(212, 212, 212); font-size: 10pt;"> {</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">&nbsp; </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러 발생 여부와 상관없이 try/catch 이후에 실행됨</span></div><div><span style="color: rgb(212, 212, 212); font-size: 10pt;">}</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try..catch, try..catch..finally, try..finally 를 사용할 수 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러 객체엔 다음과 같은 프로퍼티가 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// message - 사람이 읽을 수 있는 혀앹의 에러 메시지</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// name - 에러 이름을 담은 문자열(에러 생성자 이름)</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// stack - 표준이 아니지만 대부분의 호스트 환경에 지원하는 프로퍼티로 에러가 발생한 순간의 스택을 나타냄</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러 객체가 필요 없으면 catch(e) { } 대신 catch { } 를 쓸 수 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// throw 연산자를 사용하면 에러를 직접 만들 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이론상으론, throw 인수에 모든 것을 넘길 수 있지만, 대개 내장 Error 클래스를 상속받은 에러 객체를 인수에 넘깁니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 에러 상속에 대해선 다음 챕터에서 다룰 예정입니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 다시 던지기는 에러 처리 시 상요되는 중요한 패턴입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// catch 블록에선 대개 예상하였거나 어떻게 다룰지 알고 있는 에러를 다루고, 예상치 못한 에러는 다시 던지기 합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// try..catch 가 없어도 대부분의 호스트 환경이 전역 에러 핸들러를 지원하기 때문에 떨어져 나온 에러를 잡을 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// window.onerror 는 브라우저 환경의 전역 에러 핸들러 입니다.</span></div></div>