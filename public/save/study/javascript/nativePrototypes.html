<div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 내장 객체의 프로토타입</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// prototype 프로퍼티는 자바스크립트 내부에서도 광범위하게 사용됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 모든 내장 생성자 함수에서 prototype 프로퍼티를 사용합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이번 챕터에선 내장 객체의 프로토타입에 대해 자세히 살펴본 후, 어떻게 내장 객체의 프로토타입 프로퍼티를 응용할 수 있는지 알아보겠습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Object.prototype</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 빈 객체가 있다고 가정해봅시다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="font-size: 10pt;"> = {};</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// alert(obj1) // "[object Object]"</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj1'</span><span style="font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// "[object Object]" 문ㄴ자열을 생성하는 코드는 어디에 있을까요? </span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// toString 메서드에서 이 문자열을 생성한다는 것을 앞서 배워서 알고 있지만 도대체 코드는 어디에 있는 걸까요?</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// obj 는 비어 있는데 말이죠.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// obj = new Object() 를 줄이면 obj = {} 가 됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 여기서 Object 는 내장 객체 생성자 함수인데, 이 생성자 함수의 prototype 은 toString 을 비롯한 다양한 메서드가 구현되어있는 거대한 객체를 참조합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// new Object() 를 호출하거나 리터럴 문법 {...} 을 사용해 객체를 만들 때, 새롭게 생성된 객체의 [[Prototype]] 은 바로 앞 챕터에서 언급한 규칙에 따라 Object.prototype 을 참조합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 따라서 obj.toString() 을 호출하면 Object.prototype 에서 해당 메서드를 가져오게 됩니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 예시를 통해 이를 확인해봅시다.</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'Object'</span><span style="font-size: 10pt;">, </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="font-size: 10pt;">)</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj1.__proto__ === Object.prototype'</span><span style="font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="font-size: 10pt;"> === </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="font-size: 10pt;">);</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj1.toString === obj1.__proto__.toString'</span><span style="font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">toString</span><span style="font-size: 10pt;"> === </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">toString</span><span style="font-size: 10pt;">);</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'obj1.toString === Object.prototype.toString'</span><span style="font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj1</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">toString</span><span style="font-size: 10pt;"> === </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">toString</span><span style="font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 이때 Object.prototype 위쪽엔 [[Prototype]] 체인이 없다는 점을 주의하셔야 합니다.</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'Object.prototype.__proto__'</span><span style="font-size: 10pt;">, </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="font-size: 10pt;">);</span></div><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 다양한 내장 객체의 프로토타입</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Array, Date, Function 을 비롯한 내장 객체들 역시 프로토타입 메서드를 저장해 놓습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 배열 [1,2,3] 을 만들면 new Array() 의 디폴트 생성자가 내부에서 동작하여 Array.prototype 이 배열 [1,2,3] 의 프로토타입이 되고 개발자는 Array.prototype 을 통해 배열 메서드를 사용할 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이런 내부 동작은 메모리 효율을 높여주는 장점을 가져다줍니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 명세서에선 모든 내장 프로토타입의 상속 트리 꼭대기엔 Object.prototype 이 있어야 한다고 규정합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이런 명세 때문에 몆몆 사람들은 '모든 것은 객체를 상속받는다.' 라는 말을 하기도 합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 세 내장 객체를 이용해 지금까지 설명한 내용을 그려보면 다음과 같습니다.</span></div><br>
<svg xmlns="http://www.w3.org/2000/svg" width="692" height="411" viewBox="0 0 692 411"><defs>@import url(https://fonts.googleapis.com/css?family=Open+Sans:bold,italic,bolditalic%7CPT+Mono);@font-face{font-family:'PT Mono';font-weight:700;font-style:normal;src:local('PT MonoBold'),url(/font/PTMonoBold.woff2) format('woff2'),url(/font/PTMonoBold.woff) format('woff'),url(/font/PTMonoBold.ttf) format('truetype')}</defs><g id="inheritance" fill="none" fill-rule="evenodd" stroke="none" stroke-width="1"><g id="native-prototypes-classes.svg"><path id="Rectangle-1" fill="#FBF2EC" stroke="#DBAF88" stroke-width="2" d="M240 93h198v58H240z"></path><text id="toString:-function" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="250" y="116">toString: function</tspan> <tspan x="250" y="131">other object methods</tspan></text><text id="Object.prototype" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="239" y="85">Object.prototype</tspan></text><path id="Line-2" fill="#C06334" fill-rule="nonzero" d="M299.5 27.5l7 14h-6v28h-2v-28h-6l7-14z"></path><path id="Line-3" fill="#C06334" fill-rule="nonzero" d="M299.5 160.5l7 14h-6v28h-2v-28h-6l7-14z"></path><text id="null" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="285" y="16">null</tspan></text><path id="Rectangle-1" fill="#FBF2EC" stroke="#DBAF88" stroke-width="2" d="M14 224h198v58H14z"></path><text id="slice:-function" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="24" y="247">slice: function</tspan> <tspan x="24" y="262">other array methods</tspan></text><text id="[[Prototype]]" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="66" y="174">[[Prototype]]</tspan></text><text id="[[Prototype]]-Copy-6" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="518" y="175">[[Prototype]]</tspan></text><text id="[[Prototype]]-Copy" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="310" y="187">[[Prototype]]</tspan></text><text id="[[Prototype]]-Copy-2" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="310" y="54">[[Prototype]]</tspan></text><text id="[[Prototype]]" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="310" y="317">[[Prototype]]</tspan></text><text id="[[Prototype]]-Copy-4" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="582" y="317">[[Prototype]]</tspan></text><text id="[[Prototype]]-Copy-5" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="117" y="317">[[Prototype]]</tspan></text><text id="Array.prototype" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="13" y="216">Array.prototype</tspan></text><path id="Rectangle-1" fill="#FBF2EC" stroke="#DBAF88" stroke-width="2" d="M243 224h198v58H243z"></path><text id="call:-function-other" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="253" y="247">call: function</tspan> <tspan x="253" y="262">other function methods</tspan></text><text id="Function.prototype" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="242" y="216">Function.prototype</tspan></text><path id="Rectangle-1" fill="#FBF2EC" stroke="#DBAF88" stroke-width="2" d="M474 224h198v58H474z"></path><text id="toFixed:-function" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="484" y="247">toFixed: function</tspan> <tspan x="484" y="262">other number methods</tspan></text><text id="Number.prototype" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="473" y="216">Number.prototype</tspan></text><path id="Line" fill="#C06334" fill-rule="nonzero" d="M204.855 157.011l15.645.489-9.778 12.223-2.515-5.448-65.288 30.133-.908.419-.838-1.816.908-.419 65.288-30.133-2.514-5.448zM478.147 157.088l-2.542 5.435 64.319 30.071.905.424-.847 1.811-.906-.423-64.318-30.071-2.54 5.436L462.5 157.5l15.647-.412z"></path><path id="Rectangle-5" fill="#FBF2EC" stroke="#DBAF88" stroke-width="2" d="M48 339h117v23H48z"></path><text id="[1,-2,-3]" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="71" y="354">[1, 2, 3]</tspan></text><path id="Rectangle-6" fill="#FBF2EC" stroke="#DBAF88" stroke-width="2" d="M243 339h198v65H243z"></path><text id="function-f(args)-{" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="264" y="358">function f(args) {</tspan> <tspan x="264" y="373"> ...</tspan> <tspan x="264" y="388">}</tspan></text><path id="Rectangle-7" fill="#FBF2EC" stroke="#DBAF88" stroke-width="2" d="M541 339h69v23h-69z"></path><text id="5" fill="#AF6E24" font-family="PTMono-Regular, PT Mono" font-size="14" font-weight="normal"><tspan x="573" y="355">5</tspan></text><path id="Line-4" fill="#C06334" fill-rule="nonzero" d="M299.5 290.5l7 14h-6v28h-2v-28h-6l7-14z"></path><path id="Line-5" fill="#C06334" fill-rule="nonzero" d="M576.5 290.5l7 14h-6v28h-2v-28h-6l7-14z"></path><path id="Line-6" fill="#C06334" fill-rule="nonzero" d="M106.5 290.5l7 14h-6v28h-2v-28h-6l7-14z"></path></g></g></svg>
<br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이번엔 코드로 각 내장 객체의 프로토타입을 직접 확인해 봅시다.</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">arr1</span><span style="font-size: 10pt;"> = [</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3</span><span style="font-size: 10pt;">];</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'arr1.__proto__'</span><span style="font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">arr1</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="font-size: 10pt;">); </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Array</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'arr1.__proto__.__proto__'</span><span style="font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">arr1</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="font-size: 10pt;">); </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Object</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'arr1.__proto__.__proto__.__proto__'</span><span style="font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">arr1</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="font-size: 10pt;">); </span><span style="color: rgb(106, 153, 85); font-size: 10pt;">// null</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'arr1.__proto__ === Array.prototype'</span><span style="font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">arr1</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="font-size: 10pt;"> === </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Array</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="font-size: 10pt;">);</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'arr1.__proto__.__proto__ === Object.prototype'</span><span style="font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">arr1</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="font-size: 10pt;"> === </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="font-size: 10pt;">);</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 체인 상의 프로토타입엔 중복 메서드가 있을 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Array.prototype 엔 요소 사이에 쉼표를 넣어 요소 전체를 합친 문자열을 반환하는 자체 메서드 toString이 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 Object.prototype 에도 메서드 toString 이 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이렇게 중복 메서드가 있을 때는 체인 상에서 가까운 곳에 있는 메서드가 사용됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Array.prototype 이 체인 상에서 더 가깝기 때문에 예시에선 Array.prototype 의 toString 이 사용되었습니다.</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'arr1.toString()'</span><span style="font-size: 10pt;">, </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">arr1</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">toString</span><span style="font-size: 10pt;">());</span></div><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// Chrome 개발자 콘솔과 같은 도구를 사용하면 상속 관계를 확인할 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// console.dir 를 사용하면 내장 객체의 상속 관계를 확인하는데 도움이 됩니다.</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">dir</span><span style="font-size: 10pt;">([</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="font-size: 10pt;">,</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3</span><span style="font-size: 10pt;">]);</span></div><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 배열이 아닌 다른 내장 객체들 또한 같은 방법으로 동작합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 함수도 마찬가지입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 함수는 내장 객체 Function 의 생성자를 사용해 만들어지는데 call, apply 를 비롯한 함수에서 사용할 수 있는 메서드는 Function.prototype 에서 받아옵니다.=</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 참고로 함수에도 toString 이 구현되어있습니다.=</span></div><br><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="font-size: 10pt;"> </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">f1</span><span style="font-size: 10pt;">() {};</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'f1.__proto__ === Function.prototype'</span><span style="font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">f1</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="font-size: 10pt;"> === </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Function</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="font-size: 10pt;">);</span></div><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'f1.__proto__.__proto__ === Object.prototype'</span><span style="font-size: 10pt;">, </span><span style="color: rgb(220, 220, 170); font-size: 10pt;">f1</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">__proto__</span><span style="font-size: 10pt;"> === </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Object</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="font-size: 10pt;">);</span></div><br><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 원시값</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 문자열과 숫자, 불린값을 다루는 것은 엄청 까다롭습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 문자열과 숫자,불린값은 객체가 아닙니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 이런 원시 타입 값의 프로퍼티에 접근하려고 하면 내장 생성자 String, Number, Boolean 을 사용하는 임시 래퍼(wrapper) 객체가 생성됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 임시 래퍼 객체는 이런 메서드를 제공하고 난 후 사라집니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 래퍼 객체는 보이지 않는 곳에서 만들어지는데 엔진에 의해 최적화가 이뤄집니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 명세서엔 각 자료형에 해당하는 래퍼 객체의 메서드를 프로토타입 안에 구현해 놓고 String.prototype, Number.prototype, Boolean.prototype 을 사용해 쓰도록 규정합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// null 과 undefined 에 대응하면 래퍼 객체는 없습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 특수 값인 null 과 undefined 는 문자열과 숫자, 불린값과는 거리가 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// null 과 undefined 에 대응하는 래퍼 객체는 없습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 따라서 null 과 undefined 에선 메서드와 프로퍼티를 이용할 수 없습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프로토타입도 물론 사용할 수 없습니다.</span></div><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 네이티브 프로토타입 변경하기</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 네이티브 프로토타입은 수정할 수 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// String.prototype 에 메서드를 하나 추가하면 모든 문자열에서 해당 메서드를 사용할 수 있습니다.</span></div><br><div><span style="color: rgb(78, 201, 176); font-size: 10pt;">String</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">method1</span><span style="font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="font-size: 10pt;">() {</span></div><div><span style="font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">this</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">toString</span><span style="font-size: 10pt;">());</span></div><div><span style="font-size: 10pt;">};</span></div><br><div><span style="color: rgb(206, 145, 120); font-size: 10pt;">'test'</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">method1</span><span style="font-size: 10pt;">();</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 개발을 하다 보면 새로운 내장 메서드를 만들면 좋지 않을까 하는 생각이 들 떄가 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 네이티브 프로토타입에 새 내장 메서드를 추가하고 싶은 유혹이 자꾸 생기죠.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 하지만 이는 좋지 않은 방법입니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프로토타입은 전역으로 영향을 미치기 때문에 프로토타입을 조작하면 기존 코드와 충돌이 날 가능성이 큽니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 두 라이브러리에서 동시에 String.prototype.method1 메서드를 추가하면 한 라이브러리의 메서드가 다른 라이브러리의 메서드를 덮어쓰죠.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이런 이유로 네이티브 프로토타입을 수정하는 것은 추천하지 않습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 모던 프로그래밍에서 네이티브 프로토타입 변경을 허용하는 경우는 딱 하나뿐입니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 바로 폴리필을 만들 때 입니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 폴리필은 자바스크립트 명세서에 있는 메서드와 동일한 기능을 하는 메서드 구현체를 의미합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 명세서에는 정의되어 있으나 특정 자바스크립트 엔진에서는 해당 기능이 구현되어있지 않을 때 폴리필을 사용합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 폴리필을 직접 구현하고 난 후, 폴리필을 내장 프로토타입에 추가할 때만 네이티브 프로토타입을 변경합시다.</span></div><br><div><span style="color: rgb(197, 134, 192); font-size: 10pt;">if</span><span style="font-size: 10pt;">(!</span><span style="color: rgb(78, 201, 176); font-size: 10pt;">String</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">repeat</span><span style="font-size: 10pt;">) {</span></div><div><span style="font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">String</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">repeat</span><span style="font-size: 10pt;"> = </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">function</span><span style="font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">n</span><span style="font-size: 10pt;">) {</span></div><div><span style="font-size: 10pt;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(197, 134, 192); font-size: 10pt;">return</span><span style="font-size: 10pt;"> </span><span style="color: rgb(86, 156, 214); font-size: 10pt;">new</span><span style="font-size: 10pt;"> </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Array</span><span style="font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">n</span><span style="font-size: 10pt;">+</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="font-size: 10pt;">).</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">join</span><span style="font-size: 10pt;">(</span><span style="color: rgb(86, 156, 214); font-size: 10pt;">this</span><span style="font-size: 10pt;">)</span></div><div><span style="font-size: 10pt;">&nbsp; &nbsp; }</span></div><div><span style="font-size: 10pt;">}</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'라'</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">repeat</span><span style="font-size: 10pt;">(</span><span style="color: rgb(181, 206, 168); font-size: 10pt;">3</span><span style="font-size: 10pt;">));</span></div><br><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 프로토타입에서 메서드 빌려오기</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// call/apply 와 데코레이터,포워딩 에서 메서드 빌리기에 대한 내용을 학습한 바 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 한 객체의 메서드를 다른 객체로 복사할 때 이 기법이 사용됩니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 개발을 하다 보면 네이티브 프로토타입에 구현된 메서드를 빌려야 하는 경우가 종종 생깁니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 유사 배열 객체를 만들고 여기에 Array 메서드를 복사해봅시다.</span></div><div><span style="color: rgb(86, 156, 214); font-size: 10pt;">let</span><span style="font-size: 10pt;"> </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="font-size: 10pt;"> = {</span></div><div><span style="font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">0</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'hello'</span><span style="font-size: 10pt;">,</span></div><div><span style="font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">1</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="font-size: 10pt;"> </span><span style="color: rgb(206, 145, 120); font-size: 10pt;">'inhui'</span><span style="font-size: 10pt;">,</span></div><div><span style="font-size: 10pt;">&nbsp; &nbsp; </span><span style="color: rgb(156, 220, 254); font-size: 10pt;">length</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">:</span><span style="font-size: 10pt;"> </span><span style="color: rgb(181, 206, 168); font-size: 10pt;">2</span><span style="font-size: 10pt;">,</span></div><div><span style="font-size: 10pt;">};</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="font-size: 10pt;">);</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">join</span><span style="font-size: 10pt;"> = </span><span style="color: rgb(78, 201, 176); font-size: 10pt;">Array</span><span style="font-size: 10pt;">.</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">prototype</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">join</span><span style="font-size: 10pt;">;</span></div><br><div><span style="color: rgb(156, 220, 254); font-size: 10pt;">console</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">log</span><span style="font-size: 10pt;">(</span><span style="color: rgb(156, 220, 254); font-size: 10pt;">obj2</span><span style="font-size: 10pt;">.</span><span style="color: rgb(220, 220, 170); font-size: 10pt;">join</span><span style="font-size: 10pt;">(</span><span style="color: rgb(206, 145, 120); font-size: 10pt;">','</span><span style="font-size: 10pt;">))</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 내장 메서드 join 의 내부 알 고리즘은 제대로 된 인덱스가 있는지와 length 프로퍼티가 있는지만 확인하기 때문에 예시는 에러 없이 의도한 대로 동작합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 호출 대상이 진짜 배열인지는 상관없습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 참고로 다수의 내장 메서드가 이런 식으로 동작합니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 메서드 빌리기 말고도 obj.__proto__ 를 Array.prototype 으로 설정해 배열 메서드를 상속받는 방법이 있습니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 이렇게 하면 obj 에서 모든 Array 메서드를 사용할 수 있습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그런데 자바스크립트는 단일 상속만 허용하기 때문에 이 방법은 obj 가 다른 객체를 상속받고 있을 때는 사용할 수 없습니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 메서드 빌리기는 여러 객체에서 필요한 기능을 가져와 섞는 것을 가능하게 해주기 때문에 유연한 개발을 가능하게 해줍니다.</span></div><br><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 요약</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 모든 내장 객체는 다음과 같은 규칙을 따릅니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// - 메서드는 프로토타입에 저장됩니다.(Array.prototype, Object.prototype, Date.prototype 등)</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// - 객체 자체엔 데이터만 저장합니다.(배열의 요소, 객체의 프로퍼티, 날짜 등)</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 원시값 또한 래퍼 객체의 프로토타입에 Number.prototype, String.prototype, Boolean.prototype 같은 메서드를 저장합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 다만 undefined, null 은 예외입니다.</span></div><br><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 내장 프로토타입은 수정 가능합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 내장 프로토타입의 메서드를 빌려와 새로운 메서드를 만드는 것 역시 가능합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 그러나 내장 프로토타입 변경은 되도록 하지 않아야 합니다.</span></div><div><span style="color: rgb(106, 153, 85); font-size: 10pt;">// 내장 프로토타입은 새로 명세서에 등록된 기능을 사용하고 싶은데 자바스크립트 엔진엔 이 기능이 구현되어있지 않을 때만 변경하는 게 좋습니다.</span></div></div>