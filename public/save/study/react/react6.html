<div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div><span style="color: #c586c0;">import</span> <span style="color: #9cdcfe;">React</span>, { <span style="color: #9cdcfe;">Component</span> } <span style="color: #c586c0;">from</span> <span style="color: #ce9178;">'react'</span>;</div><br><div><span style="color: #6a9955;">// 이벤트 처리하기</span></div><div><span style="color: #6a9955;">// React 엘리먼트에서 이벤트를 처리하는 방식은 DOM 엘리먼트에서 이벤트를 처리하는 방식과 매우 유사합니다.</span></div><br><div><span style="color: #569cd6;">class</span> <span style="color: #4ec9b0;">ReactOfficial5</span> <span style="color: #569cd6;">extends</span> <span style="color: #4ec9b0;">Component</span> {</div><div>&nbsp; &nbsp; <span style="color: #dcdcaa;">render</span>() {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c586c0;">return</span> (</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">onClick</span>=<span style="color: #569cd6;">{</span><span style="color: #dcdcaa;">activateLasers</span><span style="color: #569cd6;">}</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #4ec9b0;">Form</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #4ec9b0;">Form</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #4ec9b0;">Toggle</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #4ec9b0;">Toggle</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; );</div><div>&nbsp; &nbsp; }</div><div>}</div><br><div><span style="color: #569cd6;">function</span> <span style="color: #dcdcaa;">activateLasers</span>() {</div><div>&nbsp; &nbsp; <span style="color: #dcdcaa;">alert</span>(<span style="color: #ce9178;">'activateLasers'</span>);</div><div>}</div><br><div><span style="color: #6a9955;">// React 에서는 false 를 반환해도 기본 동작을 방지할 수 없습니다.</span></div><div><span style="color: #6a9955;">// 반드시 preventDefault 를 명시적으로 호출해야 합니다.</span></div><br><div><span style="color: #569cd6;">function</span> <span style="color: #dcdcaa;">Form</span>() {</div><div>&nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #dcdcaa;">handleSubmit</span>(<span style="color: #9cdcfe;">e</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #9cdcfe;">console</span>.<span style="color: #dcdcaa;">log</span>(<span style="color: #9cdcfe;">e</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #9cdcfe;">e</span>.<span style="color: #dcdcaa;">preventDefault</span>();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #9cdcfe;">console</span>.<span style="color: #dcdcaa;">log</span>(<span style="color: #ce9178;">'You clicked submit.'</span>);</div><div>&nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; <span style="color: #c586c0;">return</span> (</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">form</span> <span style="color: #9cdcfe;">onSubmit</span>=<span style="color: #569cd6;">{</span><span style="color: #dcdcaa;">handleSubmit</span><span style="color: #569cd6;">}</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">'submit'</span><span style="color: #808080;">&gt;</span>Submit<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">form</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; );</div><div>}</div><br><div><span style="color: #6a9955;">// 여기서 e 는 합성 이벤트입니다.</span></div><div><span style="color: #6a9955;">// React 는 W3C 명세에 따라 합성 이벤트를 정의하기 때문에 브라우저 호환성에 대해 걱정할 필요가 없습니다.</span></div><div><span style="color: #6a9955;">// React 이벤트는 브라우저 고유 이벤트와 정확히 동일하게 동작하지는 않습니다.</span></div><br><div><span style="color: #6a9955;">// React 를 사용할 때 DOM 일레먼트가 생성된 후 리스너를 추가하기 위해 addEventListener 를 호출할 필요가 없습니다.</span></div><div><span style="color: #6a9955;">// 대신, 엘리먼트가 처음 렌더링될때 리스너를 제공하면 됩니다.</span></div><br><div><span style="color: #6a9955;">// ES6 클래스를 사용하여 컴포넌트를 정의할 때, 일반적인 패턴은 이벤트 핸들러를 클래스의 메서드로 만드는 것입니다.</span></div><div><span style="color: #6a9955;">// 예를 들어, 다음 Toggle 컴포넌트는 사용자가 ON , OFF 상태를 토글 할 수 있는 버튼을 렌더링합니다.</span></div><br><div><span style="color: #569cd6;">class</span> <span style="color: #4ec9b0;">Toggle</span> <span style="color: #569cd6;">extends</span> <span style="color: #4ec9b0;">Component</span> {</div><div>&nbsp; &nbsp; <span style="color: #569cd6;">constructor</span>(<span style="color: #9cdcfe;">props</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">super</span>(<span style="color: #9cdcfe;">props</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">this</span>.<span style="color: #9cdcfe;">state</span> = {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #9cdcfe;">isToggleOn</span><span style="color: #9cdcfe;">:</span> <span style="color: #569cd6;">true</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; };</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// 콜백에서 'this' 가 작동하려면 아래와 같이 바인딩 해주어야 합니다.</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// 간단하게 callback function 인 handleClick 의 this 는 class 라고 지정해준거임</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">this</span>.<span style="color: #9cdcfe;">handleClick</span> = <span style="color: #569cd6;">this</span>.<span style="color: #dcdcaa;">handleClick</span>.<span style="color: #dcdcaa;">bind</span>(<span style="color: #569cd6;">this</span>);</div><div>&nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; <span style="color: #dcdcaa;">handleClick</span>() {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">this</span>.<span style="color: #dcdcaa;">setState</span>(<span style="color: #9cdcfe;">prevState</span> <span style="color: #569cd6;">=&gt;</span> ({</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #9cdcfe;">isToggleOn</span><span style="color: #9cdcfe;">:</span> !<span style="color: #9cdcfe;">prevState</span>.<span style="color: #9cdcfe;">isToggleOn</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; }));</div><div>&nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; <span style="color: #6a9955;">// JSX 콜백 안에서 this 의 의미에 대해 주의해야 합니다.</span></div><div>&nbsp; &nbsp; <span style="color: #6a9955;">// javascript 에서 클래스 메서드는 기본적으로 바인딩되어 있지 않습니다.</span></div><div>&nbsp; &nbsp; <span style="color: #6a9955;">// this.handleClick 을 바인딩하지 않고 onClick 에 전달하였다면, 함수가 실제 호출될때 this 는 undefined 가 됩니다.</span></div><br><div>&nbsp; &nbsp; <span style="color: #6a9955;">// 이는 React 만의 특수한 동작이 아니며, Javascript 에서 함수가 작동하는 방식의 일부입니다.</span></div><div>&nbsp; &nbsp; <span style="color: #6a9955;">// 일반적으로 onClick={this.handleClick} 과 같이 뒤에 () 를 사용하지 않고 메서드를 참조할 경우, 해당 메서드를 바인딩 해야 합니다.</span></div><br><div>&nbsp; &nbsp; <span style="color: #6a9955;">// bind 를 호출하는 것이 불편하다면, 이를 해결할 수 있는 두 가지 방법이 있습니다.</span></div><br><div>&nbsp; &nbsp; <span style="color: #6a9955;">// 1. 콜백을 올바르게 바인딩하기 위해 퍼블릭 클래스 필드 문법을 활용할 수 있습니다.</span></div><div>&nbsp; &nbsp; <span style="color: #6a9955;">// 이 문법은 this 가 handleClick 내에서 바인딩되도록 합니다.</span></div><div>&nbsp; &nbsp; <span style="color: #6a9955;">// 이 문법은 실험적인 문법입니다.</span></div><div>&nbsp; &nbsp; <span style="color: #dcdcaa;">handleClick2</span> = () <span style="color: #569cd6;">=&gt;</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">this</span>.<span style="color: #dcdcaa;">setState</span>(<span style="color: #9cdcfe;">prevState</span> <span style="color: #569cd6;">=&gt;</span> ({</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #9cdcfe;">isToggleOn:</span> !<span style="color: #9cdcfe;">prevState</span>.<span style="color: #9cdcfe;">isToggleOn</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; }));</div><div>&nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; </div><div>&nbsp; &nbsp; <span style="color: #6a9955;">// 2. 콜백에 화살표 함수를 사용하는 방법</span></div><div>&nbsp; &nbsp; <span style="color: #dcdcaa;">handleClick3</span>() {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">this</span>.<span style="color: #dcdcaa;">setState</span>(<span style="color: #9cdcfe;">prevState</span> <span style="color: #569cd6;">=&gt;</span> ({</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #9cdcfe;">isToggleOn:</span> !<span style="color: #9cdcfe;">prevState</span>.<span style="color: #9cdcfe;">isToggleOn</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; }));</div><div>&nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; <span style="color: #6a9955;">// 이 문법의 문제점은 렌더링될 때마다 다른 콜백이 생성된다는 것입니다.</span></div><div>&nbsp; &nbsp; <span style="color: #6a9955;">// 대부분의 경우 문제가 되지 않으나, 콜백이 하위 컴포넌트에 props 로서 전달된다면 그 컴포넌트들은 추가로 다시 렌더링을 수행할 수도 있습니다.</span></div><div>&nbsp; &nbsp; <span style="color: #6a9955;">// 이러한 종류의 성능 문제를 피하고자, 생성자 안에서 바인딩하거나 클래스 필드 문법을 사용하는 것을 권장합니다.</span></div><br><br><div>&nbsp; &nbsp; <span style="color: #dcdcaa;">render</span>() {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c586c0;">return</span> (</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">onClick</span>=<span style="color: #569cd6;">{this</span>.<span style="color: #9cdcfe;">handleClick</span><span style="color: #569cd6;">}</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">{</span><span style="color: #569cd6;">this</span>.<span style="color: #9cdcfe;">state</span>.<span style="color: #9cdcfe;">isToggleOn</span> ? <span style="color: #ce9178;">'ON'</span> : <span style="color: #ce9178;">'OFF'</span><span style="color: #569cd6;">}</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">onClick</span>=<span style="color: #569cd6;">{this</span>.<span style="color: #9cdcfe;">handleClick2</span><span style="color: #569cd6;">}</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">{</span><span style="color: #569cd6;">this</span>.<span style="color: #9cdcfe;">state</span>.<span style="color: #9cdcfe;">isToggleOn</span> ? <span style="color: #ce9178;">'ON'</span> : <span style="color: #ce9178;">'OFF'</span><span style="color: #569cd6;">}</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">onClick</span>=<span style="color: #569cd6;">{</span>() <span style="color: #569cd6;">=&gt;</span> <span style="color: #569cd6;">this</span>.<span style="color: #dcdcaa;">handleClick3</span>()<span style="color: #569cd6;">}</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">{</span><span style="color: #569cd6;">this</span>.<span style="color: #9cdcfe;">state</span>.<span style="color: #9cdcfe;">isToggleOn</span> ? <span style="color: #ce9178;">'ON'</span> : <span style="color: #ce9178;">'OFF'</span><span style="color: #569cd6;">}</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; );</div><div>&nbsp; &nbsp; }</div><div>}</div><br><div><span style="color: #c586c0;">export</span> <span style="color: #c586c0;">default</span> <span style="color: #9cdcfe;">ReactOfficial5</span>;</div></div>